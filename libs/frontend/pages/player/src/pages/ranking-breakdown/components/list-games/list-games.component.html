<form [formGroup]="this.listGamesService.filter">
  <div>
    <mat-slide-toggle formControlName="includedIgnored">
      {{ 'all.ranking.breakdown.notUsed' | translate }}:
      {{
        lostGamesIgnored.length
          | i18nPlural
            : {
                '=0': 'all.ranking.breakdown.lostGames.none',
                '=1': 'all.ranking.breakdown.lostGames.one',
                other: 'all.ranking.breakdown.lostGames.other',
              }
          | translate: { count: lostGamesIgnored.length }
      }}</mat-slide-toggle
    >
  </div>
  <div>
    <mat-slide-toggle formControlName="includedUpgrade">
      {{ 'all.ranking.breakdown.usedForUpgrade' | translate }}:
      {{
        lostGamesUpgrade.length
          | i18nPlural
            : {
                '=0': 'all.ranking.breakdown.lostGames.none',
                '=1': 'all.ranking.breakdown.lostGames.one',
                other: 'all.ranking.breakdown.lostGames.other',
              }
          | translate: { count: lostGamesUpgrade.length }
      }}
    </mat-slide-toggle>
  </div>
  <div>
    <mat-slide-toggle formControlName="includedDowngrade">
      {{ 'all.ranking.breakdown.usedForDowngrade' | translate }}:
      {{
        lostGamesDowngrade.length
          | i18nPlural
            : {
                '=0': 'all.ranking.breakdown.lostGames.none',
                '=1': 'all.ranking.breakdown.lostGames.one',
                other: 'all.ranking.breakdown.lostGames.other',
              }
          | translate: { count: lostGamesDowngrade.length }
      }}
    </mat-slide-toggle>
  </div>
  @if ((this.system().latestXGamesToUse ?? 0) > 0) {
    <div>
      <mat-slide-toggle formControlName="includeOutOfScope">
        {{ 'all.ranking.breakdown.includeOutOfScope' | translate }}:
        {{
          outOfScopeGames.length
            | i18nPlural
              : {
                  '=0': 'all.ranking.breakdown.outOfScope.none',
                  '=1': 'all.ranking.breakdown.outOfScope.one',
                  other: 'all.ranking.breakdown.outOfScope.other',
                }
            | translate: { count: outOfScopeGames.length }
        }}
      </mat-slide-toggle>
    </div>
  }
  <div class="options">
    <!-- <button (click)="this.addGame()" mat-stroked-button>
      {{ 'all.ranking.breakdown.add-game.title' | translate }}
    </button> -->
    <button (click)="this.exportToExcel()" mat-stroked-button>
      {{ 'all.ranking.breakdown.export.title' | translate }}
    </button>
  </div>
</form>

<mtx-grid
  [data]="currGames()"
  [loading]="!loaded()"
  [columns]="columns"
  [showPaginator]="false"
  [pageSize]="99"
/>
