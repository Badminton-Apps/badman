<ng-container *ngIf="this.formGroup" [formGroup]="this.formGroup">
  <h3>General</h3>
  <div class="general">
    <div class="name">
      <mat-form-field>
        <mat-label>Naam</mat-label>
        <input matInput formControlName="name" [required]="true" />
      </mat-form-field>
    </div>

    <div class="contact">
      <mat-form-field>
        <mat-label>Season</mat-label>
        <input matInput formControlName="season" [required]="true" />
      </mat-form-field>

      <mat-form-field>
        <mat-label>Contact</mat-label>
        <input matInput formControlName="contactEmail" [required]="true" />
      </mat-form-field>
    </div>

    <div class="actions">
      <button mat-raised-button color="primary" (click)="this.save()">
        {{ 'all.button.save' | translate }}
      </button>
    </div>
  </div>

  <h3>Sub events</h3>

  <div
    *ngFor="let subEvent of eventCompetition.subEventCompetitions; index as i"
  >
    <badman-event-competition-level-fields
      [type]="eventCompetition.type"
      [subEvent]="subEvent"
      [formGroup]="$any(this.formGroup.get('subEvents'))?.at(i)"
    ></badman-event-competition-level-fields>
  </div>

  <div class="actions">
    <button mat-raised-button color="primary" (click)="this.save()">
      {{ 'all.button.save' | translate }}
    </button>
  </div>
</ng-container>

<badman-has-claim [any]="[eventCompetition.id + '_edit:role', 'edit-any:club']">
  <h2>
    Roles
    <badman-add-role
      linkType="competition"
      [linkId]="this.eventCompetition.id!"
    />
  </h2>
  <div class="roles" *ngIf="this.roles">
    <ng-container *ngFor=" let role of this.roles()">
      <badman-edit-role
        [roleId]="role.id"
        *ngIf="role.id"
        [type]="[securityTypes.COMPETITION]"
      />
    </ng-container>
  </div>
</badman-has-claim>
