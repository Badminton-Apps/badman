@if (loaded()) {
  <div class="description">
    {{ 'all.competition.team-enrollment.transfer.transfer-teams-description' | translate }}
  </div>

  <mat-checkbox
    [formControl]="nationalCountsAsMixed()"
    class="mixed-national-teams"
    [attr.data-anchor]="'mixed-national-teams'"
  >
    {{ 'all.competition.team-enrollment.mixed-national-teams' | translate }}
  </mat-checkbox>

  <div class="all">
    <button mat-button (click)="selectAll()">{{ 'all.button.all' | translate }}</button>
    <button mat-button (click)="deselectAll()">
      {{ 'all.button.none' | translate }}
    </button>
  </div>

  <mat-selection-list [formControl]="transferTeamsCtrl">
    @for (team of teamsCurrentNamed(); track team) {
      <mat-list-option [value]="team.id" togglePosition="before">{{ team.name }}</mat-list-option>
    }
  </mat-selection-list>

  @if (newTeams().length > 0) {
    <h3>{{ 'all.competition.team-enrollment.teams.new-teams' | translate }}</h3>
    <mat-selection-list>
      @for (team of newTeams(); track team) {
        <mat-list>{{ team.name }}</mat-list>
      }
    </mat-selection-list>
  }
} @else {
  <mat-progress-bar mode="indeterminate"></mat-progress-bar>
}
