<ng-container
  [formGroup]="group"
  *ngIf="(control?.controls?.length ?? 0) > 0; else loading"
>
  <div class="row">
    <button mat-stroked-button (click)="addLocation()">
      {{ 'all.button.add-location' | translate }}
    </button>
  </div>

  <ng-container formArrayName="locations">
    <div
      class="row"
      *ngFor="let location of control?.controls; let i = index"
      [formGroupName]="i"
    >
      <badman-location
        (whenLocationUpdate)="this.editLocation(i)"
        [group]="location"
      ></badman-location>
    </div>
  </ng-container>
</ng-container>

<ng-template #loading>
  <mat-progress-bar mode="indeterminate"></mat-progress-bar
></ng-template>
