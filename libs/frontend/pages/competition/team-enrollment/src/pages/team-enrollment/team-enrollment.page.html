<h1>
  {{ 'all.competition.team-enrollment.title' | translate }}
  {{ this.formGroup.get('season')?.value }}
</h1>
@if (this.formGroup.value !== null) {
  <mat-vertical-stepper [linear]="true">
    <mat-step>
      <ng-template matStepLabel>{{
        'all.competition.team-enrollment.select-club' | translate
      }}</ng-template>
      <badman-club-step [formGroup]="this.formGroup" />
      <button
        mat-raised-button
        color="primary"
        matStepperNext
        [disabled]="!allLoaded()"
        [class.spinner]="!allLoaded()"
      >
        {{ 'all.button.next' | translate }}
      </button>
    </mat-step>

    <mat-step>
      <ng-template matStepLabel>{{
        'all.competition.team-enrollment.select-location' | translate
      }}</ng-template>
      <badman-locations-step [formGroup]="this.formGroup"/>
      <div class="actions">
        <button mat-stroked-button matStepperPrevious>{{ 'all.button.prev' | translate }}</button>
        <button mat-stroked-button matStepperNext [disabled]="!locationControl.valid">
          {{ 'all.button.next' | translate }}
        </button>
        <button
          mat-raised-button
          (click)="saveAndContinue()"
          color="primary"
          [disabled]="!locationControl.valid"
        >
          {{ 'all.button.save-and-continue' | translate }}
        </button>
      </div>
    </mat-step>

    <mat-step>
      <ng-template matStepLabel>{{
        'all.competition.team-enrollment.transfers-players' | translate
      }}</ng-template>
      <badman-player-transfer-step [formGroup]="this.formGroup" />
      <div class="actions">
        <button mat-stroked-button matStepperPrevious>{{ 'all.button.prev' | translate }}</button>
        <button mat-stroked-button matStepperNext>
          {{ 'all.button.next' | translate }}
        </button>
        <button mat-raised-button (click)="saveAndContinue()" color="primary">
          {{ 'all.button.save-and-continue' | translate }}
        </button>
      </div>
    </mat-step>

    <mat-step>
      <ng-template matStepLabel>{{
        'all.competition.team-enrollment.transfer.transfer-teams' | translate
      }}</ng-template>
      <badman-teams-transfer-step [formGroup]="this.formGroup" />
      <div class="actions">
        <button mat-stroked-button matStepperPrevious>{{ 'all.button.prev' | translate }}</button>
        <button mat-raised-button color="primary" matStepperNext>
          {{ 'all.button.next' | translate }}
        </button>
      </div>
    </mat-step>

    <mat-step>
      <ng-template matStepLabel>{{
        'all.competition.team-enrollment.select-teams' | translate
      }}</ng-template>
      <badman-teams-step [formGroup]="this.formGroup" />
      <div class="actions">
        <button mat-stroked-button matStepperPrevious>{{ 'all.button.prev' | translate }}</button>
        <button
          mat-stroked-button
          color="primary"
          matStepperNext
          [disabled]="this.formGroup.get('teams')?.valid === false"
        >
          {{ 'all.button.next' | translate }}
        </button>
        <button
          mat-raised-button
          (click)="saveAndContinue(true)"
          color="primary"
          [disabled]="this.formGroup.get('teams')?.valid === false"
        >
          {{ 'all.button.save-and-continue' | translate }}
        </button>
      </div>
    </mat-step>
    <mat-step>
      <ng-template matStepLabel>{{
        'all.competition.team-enrollment.comments.title' | translate
      }}</ng-template>
      <badman-comments-step [formGroup]="this.formGroup" />
      <div class="actions">
        <button mat-stroked-button matStepperPrevious>{{ 'all.button.prev' | translate }}</button>
        <button mat-raised-button color="primary" (click)="saveAndFinish()">
          {{ 'all.button.save' | translate }}
        </button>
      </div>
    </mat-step>
  </mat-vertical-stepper>
}

<!-- <pre
  >{{ this.formGroup.getRawValue() | json }}
</pre> -->
