@if (!auth.loggedInSignal()) {
  <button mat-button (click)="login()">Log in</button>
  <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="button for more option menu">
    <mat-icon>more_vert</mat-icon>
  </button>
} @else {
  <button
    mat-button
    class="avatar-button"
    [matMenuTriggerFor]="menu"
    aria-label="button for more option menu"
  >
    <img
      class="avatar"
      [src]="auth.userSignal()?.picture"
      [alt]="'profile picture' + auth.userSignal()?.fullName"
      loading="lazy"
    />
    {{ auth.userSignal()?.firstName }}
  </button>
}

<mat-menu #menu="matMenu">
  @if (auth.loggedInSignal()) {
    @if (auth.userSignal()?.fullName) {
      <div mat-menu-item [routerLink]="['/', 'player', auth.userSignal()?.slug]">
        {{ auth.userSignal()?.fullName }}
      </div>
    }
    <button mat-menu-item (click)="logout()">Logout</button>
    <a mat-menu-item [routerLink]="['/', 'player', auth.userSignal()?.slug, 'settings']"
      >Settings</a
    >
    <mat-divider></mat-divider>
  }
  <badman-language></badman-language>
  <badman-theme-switcher></badman-theme-switcher>
</mat-menu>
