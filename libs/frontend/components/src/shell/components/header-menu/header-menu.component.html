<button
  mat-button
  *ngIf="!authenticateService.user?.loggedIn"
  (click)="login()"
>
  Log in
</button>

<button
  mat-icon-button
  [matMenuTriggerFor]="menu"
  aria-label="icon-button with a menu"
>
  {{ authenticateService.user?.firstName }}
  <img
    class="avatar"
    *ngIf="authenticateService.user?.loggedIn"
    [src]="authenticateService.user?.picture"
    [alt]="'profile picture' + authenticateService.user?.fullName"
    loading="lazy"
  />
  <mat-icon *ngIf="!authenticateService.user?.loggedIn">more_vert</mat-icon>
</button>

<mat-menu #menu="matMenu">
  <ng-container *ngIf="authenticateService.user?.loggedIn">
    <div
      mat-menu-item
      *ngIf="authenticateService.user?.fullName"
      [routerLink]="['/', 'player', authenticateService.user?.slug]"
    >
      {{ authenticateService.user?.fullName }}
    </div>

    <button mat-menu-item (click)="logout()">Logout</button>
    <a
      mat-menu-item
      [routerLink]="['/', 'player', authenticateService.user?.slug, 'settings']"
      >Settings</a
    >
    <mat-divider></mat-divider>
  </ng-container>

  <badman-language></badman-language>
  <badman-theme-switcher></badman-theme-switcher>
</mat-menu>
