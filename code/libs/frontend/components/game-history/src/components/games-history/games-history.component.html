<div  fxLayout="column">
  <div id="filters">
    <form
      [formGroup]="this.gameFilter"
      fxFlex
      fxLayout="row"
      fxLayout.lt-md="column"
      fxLayoutGap="10px"
    >
      <mat-form-field appearance="outline" fxFlex="200px" fxFlex.lt-md>
        <mat-label>{{ 'game.type' | translate }}</mat-label>
        <mat-select formControlName="gameType">
          <mat-option>All</mat-option>
          <mat-option [value]="'S'">{{
            'ranking.single' | translate
          }}</mat-option>
          <mat-option [value]="'D'">{{
            'ranking.double' | translate
          }}</mat-option>
          <mat-option [value]="'MX'">{{
            'ranking.mix' | translate
          }}</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="outline" fxFlex="200px" fxFlex.lt-md>
        <mat-label>{{ 'event.type' | translate }}</mat-label>
        <mat-select formControlName="eventType">
          <mat-option>All</mat-option>
          <mat-option [value]="'competition'">{{
            'event.types.competition' | translate
          }}</mat-option>
          <mat-option [value]="'tournament'">{{
            'event.types.tournament' | translate
          }}</mat-option>
        </mat-select>
      </mat-form-field>
    </form>
  </div>

  <div
    fxLayout="column"
    class="results"
    infiniteScroll
    (scrolled)="nextBatch()"
    [fromRoot]="true"
    [infiniteScrollContainer]="'.mat-drawer-content'"
    [infiniteScrollDistance]="2"
    [infiniteScrollThrottle]="50"
  >
    <ng-container *ngIf="infinite | async as games">
      <div fxLayout="row wrap">
        <ng-container
          *ngFor="let group of games; let i = index; trackBy: trackByIdx"
        >
          <badman-game-history-title
            fxFlex="100"
            *ngIf="group.first"
            [linkId]="group.linkId"
            [linkType]="group.linkType"
            [playedAt]="group.playedAt"
          ></badman-game-history-title>
          <badman-game-history [gameId]="group.id!"> </badman-game-history>
        </ng-container>
      </div>
    </ng-container>
  </div>
</div>
